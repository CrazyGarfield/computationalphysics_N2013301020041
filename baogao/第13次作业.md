# 第13次作业

编辑:作业部落
代码编辑:狂蟒之灾
作者:刘文杰
学号:2013301020041

---------------
标签（空格分隔）:relaxtion 二维体系电势分布 Jacobi SOR

目录
--

>* 摘要
>* 背景介绍
>* 正文
>* 结论
>* 致谢


![][1]

摘要:
---------
本章通过逐次近似法(relaxtion method)计算不同情况下的电势与电场分布，并讨论如何通过电容的对称性提高计算速度，对比Jacobi method与SOR algorithm达到要求精度所需的迭代次数

背景:(物理概念果然还是英文说着清晰)
--------
ELECTRIC POTENTIALS AND FIELDS:LAPLACE'S EQUATION

  In the regions of space that di not contain any electric charges,the electric potential obeys Lapalce's equation:
  The Lapalce's equation, with specific boundary conditions for V,can be dealt with relation method.The first derivative can be written as:
  the second derivatives can be written as:
  Inserting the equation into Laplace's equation and solving for V(i,i,k),we find:
  ![][2]
  
  To caculate the V(i,j,k),first we need a intial guess ,then we use the equation above to update the V.Fianlly keeping tracks of the cumulative charges in V and using laplace-calculate to judge convergence.




正文:
------
 1.固定边界条件下二维平板电容的电场分布:
 首先考虑一平板电容器，在1*1的封闭二维空间内，有一带电电容器，两级带电量分别为-1，+1.示意图如下:
 ![此处输入图片的描述][3]
 
 
 首先使用Jacobi method 计算电势分布，这里已近似认为边界的电势分布恒为0，后边我们将恒边界近似改为周期性边界近似，对比两种近似条件下对计算结果的影响程度。[代码链接][4]
 
 模拟电势分布如下:
 ![此处输入图片的描述][5]
 
 
 三维下的结果为:
 ![此处输入图片的描述][6]
 
 电场分布:[代码][116]
 [116]:https://github.com/CrazyGarfield/computationalphysics_N2013301020041/blob/master/13/zuiputong.py
 [114]:https://github.com/CrazyGarfield/computationalphysics_N2013301020041/blob/master/13/程序.py
 ![此处输入图片的描述][7]
 2.周期性边界条件下二维平板模型的电势分布:
 同样的平板电容器，这次边界不再是固定的数值，相应的，假设边界上的点，其最近邻点包括其相对应另一边界上的点(左边界左近邻点是右边界对应的点)，这样平面的拓扑结构变为一轮胎面，此时的电场分布:
 [代码链接][8]
 ![此处输入图片的描述][9]
 ![此处输入图片的描述][10]
 电场分布与用固定边界条件下有很大区别，原因在于，对有周期型边界条件下的电容器电势分布问题，不再是简单的封闭问题，变为无限延伸的无数个电容器的电势分布:
 ![此处输入图片的描述][11]
 如上图所示，无限循环下去，这是可以看到，与固定边界条件下相比，两者的电场分布有一定得区别，这说明对于不同的边界条件，势场的分布状会有一定的区别，更进一步的，可以看出虽然有区别，但区别并不是很大，没有达到我所预期的，变为计算无限个平板电势分布的问题，这也说明了，对于要求在区域无限大的情况下才成立的物理模型而言，y使用周期型边界条件，虽然可以减少误差，但同时误差是无法避免的，要计算精确，还需要引入更多的格点。
 另:我使用了Jacobi方法，和Guass方法计算该问题，无明显区别。([代码1][111])[代码2][112]
[111]: https://github.com/CrazyGarfield/computationalphysics_N2013301020041/blob/master/13/zhouqixingbianjietiaojian_Jacobi%20method.py
[112]:https://github.com/CrazyGarfield/computationalphysics_N2013301020041/blob/master/13/zhouqixingbianjietiaojian.py
 3.利用对称性减小程序运行时间:(对应作业第一题)
 
 在编写含有对称因素的程序过行程中，可以利用对称性来减少计算的时间，继续讨论平板电容器，利用对称性可以只计算1/4空间的电势分布，然后通过对称性来求得整个空间的电势分布，理论上，计算速度会快4倍。
 
 最关键的问题依旧是边界条件!
---------------------------------

我首先将1/4的空间设置为固定固定边界条件，得到的结果:[代码1][112][代码2][113][代码3][117][代码4][118]
[117]:https://github.com/CrazyGarfield/computationalphysics_N2013301020041/blob/master/13/zhouqixingbianjietiaojian_Jacobi%20method.py
[118]:https://github.com/CrazyGarfield/computationalphysics_N2013301020041/blob/master/13/zhouqixingbianjietiaojian.py
[112]:https://github.com/CrazyGarfield/computationalphysics_N2013301020041/blob/master/13/151-用对称.py
[113]:https://github.com/CrazyGarfield/computationalphysics_N2013301020041/blob/master/13/151-不用对称.py
![此处输入图片的描述][12]
![此处输入图片的描述][13]
可以看到据以前的计算结果已经比较的接近了，但在x轴附近的点差距比较大，为了消除此差距，我将1/4空间底部的点设置为，其最近邻四个点中，底下的最近邻点改为上最近邻的点，原因是根据对称性，底最近邻点电势应为下一个1/4最上一点，而下一个1/4最上一点的电势分布应该与我们正在讨论的1/4空间底部点的上最近邻格点相同，因此，做一个替换。
结果如下:
![此处输入图片的描述][14]
![此处输入图片的描述][15]
可以看到，与我们以前结果基本无区别。
但在时间上，我没有观察到所希望的时间缩短的情况，在原先格点数太小的情况下，我增加了格点数至151*151，使用Guass方法不使用对称条件时，程序运行时间为0.015641 s达到要求精度所需的循环次数为937次，使用对称条件时程序运行时间为0.014567 s  ，达到要求精度所需的循环次数为575次。

使用对称条件，虽然使循环次数下降了近1/2，单循环时间的变化依旧不明显，这可能是所计算系统依旧过小的原因，(受机器和编程能力限制无法继续提高格点数，会死机)。同时也看出周期性条件的运用确实可以减少计算量。
4.不同方法的运行效率的对比(对应作业第二题)[代码][114]
继续我们讨论不同SOR与Jacobi计算方法达到相同运算精度所需的运行时间，结果如下图所示:
![此处输入图片的描述][16]
可以看到SOR方法所需循环次数远小与Jacobi方法，且SOR方法随格点数增加，所需的循环次数增加的很缓慢，而Jacobi方法增加的很快。SOR方法更适合进行大格点数的计算。
5.一些的极限结果
我画了一些密集的电势分布图，希望观察在两电极附近的细致的电势分布情况，可以看到，虽然这种格点计算的方法很简单，但是却很好的描述了电势，甚至连边缘效应也有所体现，图如下:
![此处输入图片的描述][17]
![此处输入图片的描述][18]

结论:
-------
本章讨论的电势分布问题，可以看到:

1.边界条件是一个很重要的考虑因素，什么情况下使用什么边界都是要仔细考察的。
2.不同的运算方法有着不同的运算效率，同时我们可以通过很多途径(考虑对称性，使用新的算法)来提高程序的运行效率。

引用:
-----
计算物理
致谢:
--------
本篇报告程序由本人独立完成。
 
 
 
 


  [1]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/u=604595665,605641180&fm=21&gp=0.jpg.gif
  [2]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%85%AC%E5%BC%8F.png
  [3]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/%E5%B9%B3%E6%9D%BF%E7%A4%BA%E6%84%8F%E5%9B%BE.png
  [4]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/%E5%B9%B3%E6%9D%BF%E7%A4%BA%E6%84%8F%E5%9B%BE.png
  [5]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/1.png
  [6]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/2.png
  [7]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/dianchang.png
  [8]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/%E5%B9%B3%E6%9D%BF%E7%A4%BA%E6%84%8F%E5%9B%BE.png
  [9]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/%E5%91%A8%E6%9C%9F%E6%80%A7%E8%BE%B9%E7%95%8C%E6%9D%A1%E4%BB%B62.png
  [10]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/%E5%91%A8%E6%9C%9F%E6%80%A7%E8%BE%B9%E7%95%8C%E6%9D%A1%E4%BB%B63.png
  [11]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/QQ%E5%9B%BE%E7%89%8720160618184732.png
  [12]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/figure_2-1.png
  [13]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/figure_6.png
  [14]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/zhouqi1.png
  [15]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/zhouqi.png
  [16]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/figure_1.png
  [17]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/3.png
  [18]: https://raw.githubusercontent.com/CrazyGarfield/computationalphysics_N2013301020041/master/13/J-1.png